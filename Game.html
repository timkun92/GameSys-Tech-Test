<html>

	<head>
	
		<title> Stacking Box Cash </title>
		<script src= "js/CreatingBox.js"></script>

	</head>
	<body>

		<canvas id= "cv" width="1000" height="800" style="border:1px solid #000000;"></canvas>

		<script>
			//var cv = document.getElementById("cv").getContext("2d");

			//cv.fillText('Hello World', 20,20);
			
			console.log("Developed by Tim Nguyen");

			var canvas = document.getElementById("cv");

			var ctx = canvas.getContext("2d");
			canvas.width = 1000;
			canvas.height = 800;
			document.body.appendChild(canvas);

			//BG Image
			var bgReady = false;
			var bgImage = new Image();
			
			bgImage.src = "images/background.jpg";

			bgImage.onload = function() {
				bgReady = true;
			}

			var user = {
				credit: 10
			};

			var update = function (modifier) {
				BoxMovement(modifier);	
			}
			
			var main = function () {
				var now = Date.now();
				var delta = now - then;
				//console.log("Main");
				
				update(delta / 1000)
				
				render();
	
				requestAnimationFrame(main);
			}

			var render = function ()
			{
				ctx.clearRect(0, 0, canvas.width, canvas.height);
				//console.log("in Render");
				if (bgReady)
				{
					//ctx.drawImage(bgImage, 0, 0); // this needs to be changed to a normal picture
				}
				
				
				//ctx.drawImage(iconBoxRed,0,0, 96, 96);
				DrawBox(ctx);
			}
			
			var then = Date.now();
			
			main ();
			
			addEventListener("keydown", Click);
			addEventListener("keyup", Release);
			
			var space = false;
			var fKey = false;
			
			function Click(e)
			{
				if (32 == e.keyCode && !space)
				{
					space = true;					
					AddingRandomBox();
				}
				
				if (70 == e.keyCode && !fKey)
				{
					fKey = true;
					RemoveBox();
				}
				
			}
			
			function Release(e)
			{
				if (32 == e.keyCode)
				{
					space = false;
				}
				
				if (70 == e.keyCode)
				{
					fKey = false;
				}
			}

		</script>


	</body>


</html>